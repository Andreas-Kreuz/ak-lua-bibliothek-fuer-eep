<mat-card *ngIf="list$ | async as list" class="mat-elevation-z3">
  <mat-card-content *ngIf="list && list.length > 0">
    <h4>{{ title }} (max: {{ scale(list) }})</h4>
    <svg width="100%" height="20rem" style="background-color: white">
      <rect
        *ngFor="let item of count; let i = index"
        x="0"
        [attr.y]="i * 2 + 'rem'"
        [attr.width]="'100%'"
        height="1.2rem"
        style="fill: #f9f9f9"
      />
      <ng-container *ngFor="let entries of list; let j = index">
        <rect
          *ngFor="let item of entries; let i = index"
          [attr.x]="scaledValueOf(startXOf(i, entries)) + '%'"
          [attr.y]="j * 2 + 'rem'"
          [attr.width]="scaledValueOf(item.ms) + '%'"
          height="1.2rem"
          [attr.style]="'fill: ' + colorOf(i)"
        >
          <title>{{ item.ms.toFixed() }} ms for {{ item.id }}</title>
        </rect>
        <text x="99%" [attr.y]="j * 2 + 1 + 'rem'" style="font-family: Roboto" fill="#cccccc" text-anchor="end">
          {{ maxOfSingleList(entries).toFixed(1) }} ms
        </text>
      </ng-container>
    </svg>
    <mat-divider></mat-divider>
  </mat-card-content>
  <mat-card-content *ngIf="ids && ids.length > 0">
    <h4 style="margin-top: 1rem">Legende</h4>
    <svg width="100%" [attr.height]="ids.length * 2 - 1 + 'rem'" style="background-color: white">
      <ng-container *ngFor="let id of ids; let j = index">
        <rect
          [attr.x]="0"
          [attr.y]="j * 2 + 'rem'"
          [attr.width]="'1rem'"
          height="1rem"
          [attr.style]="'fill: ' + colorOf(j)"
        />
        <text x="1.7rem" [attr.y]="j * 2 + 0.85 + 'rem'" style="font-family: Roboto" text-anchor="start">
          {{ id }}
        </text>
      </ng-container>
    </svg>
  </mat-card-content>
</mat-card>
<p></p>
